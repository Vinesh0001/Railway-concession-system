<!DOCTYPE html>
<html lang="en">


<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="js/common.js"></script>
  <title>Concession Management System</title>
  <!-- <link rel="shortcut icon" href="images/favi.ico"> -->
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="stylesheet" href="css/common.css">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="js/common.js"></script>
  <title>Concession Management System</title>
  <!-- <link rel="shortcut icon" href="images/favi.ico"> -->
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="stylesheet" href="css/common.css">
</head>


<body>
  <div id="bootstrap"></div>
  <div id="header"></div>
  <div class="common-content-style">
    <div class="container-fluid">
      <div class="row">
        <div class="mx-auto col-10 col-md-8 col-lg-3">
          <!-- <div class="navbar-brand">
                  <img src="images/VISUAL ART LOGO 1.png" alt="Logo" width="40" height="60" class="d-inline-block align-text-centre">
                  <span class="display-11" ><b>Vasantdada Patil Pratishthan's College of Engineering & VA</b></span>
                </div> -->
          <h3 id="msg"></h3>
          <h1>Concession Form</h1>
          <form action="/submit" method="post" name="form" id="form">
            <div class="mb-3">
              <label for="srNo" class="form-label">Sr no</label>
              <input type="text" class="form-control" id="srNo" name="Sr.No" required readonly>
            </div>
            <div class="mb-3">
              <label for="name" class="form-label">Name</label>
              <input type="text" class="form-control" id="name" name="Name" placeholder="Enter your full name" required>
            </div>
            <div class="mb-3">
              <label for="id" class="form-label">ID</label>
              <input type="text" class="form-control" id="clg_id" name="Clg_ID" placeholder="Enter your college id no."
                required>
            </div>
            <div class="mb-3">
              <label for="id" class="form-label">Age</label>
              <input type="text" class="form-control" onclick="setId()" id="age" name="Age" placeholder="Enter your age" required>
            </div>
            <div class="mb-3">
              <label for="dept" class="form-label">Department</label>
              <input type="text" class="form-control" id="dept" name="Department" placeholder="Enter department"
                required>
            </div>

            <div class="mb-3">
              <label for="year" class="form-label">Year</label>
              <!-- <input type="text" class="form-check-input" id="year" required > -->
              <!-- radio -->
              <div class="mb-3 form-check">
                <input class="form-check-input" type="radio" name="Year" id="year1" value="FE">
                <label class="form-check-label" for="year1">
                  FE
                </label>
              </div>
              <div class="mb-3 form-check">
                <input class="form-check-input" type="radio" name="Year" id="year2" value="SE">
                <label class="form-check-label" for="year2">
                  SE
                </label>
              </div>
              <div class="mb-3 form-check">
                <input class="form-check-input" type="radio" name="Year" id="year3" value="TE">
                <label class="form-check-label" for="year3">
                  TE
                </label>
              </div>
              <div class="mb-3 form-check">
                <input class="form-check-input" type="radio" name="Year" id="year4" value="BE">
                <label class="form-check-label" for="year4">
                  BE
                </label>
              </div>
            </div>
            <div class="mb-3">
              <label for="division" class="form-label">Division</label>
              <input type="text" class="form-control" id="division" name="Division" placeholder="Enter your division"
                required>
            </div>
            <div class="mb-3">
              <label for="gender" class="form-label">Gender</label>

              <div class="mb-3 form-check">
                <input class="form-check-input" type="radio" name="Gender" id="M" value="Male">
                <label class="form-check-label" for="gender">
                  Male
                </label>
              </div>
              <div class="mb-3 form-check">
                <input class="form-check-input" type="radio" name="Gender" id="F" value="Female">
                <label class="form-check-label" for="gender">
                  Female
                </label>
              </div>
            </div>
            <div class="mb-3">
              <label for="vacation" class="form-label">Vacation Period:</label>
              <input type="text" class="form-control" id="vacation" placeholder="Monthly/Quarterly/Yearly"
                name="Vacation" onchange="expiry()" required>
            </div>
            <div class="mb-3">
              <label for="source" class="form-label">Source:</label>
              <input type="text" class="form-control" id="source" name="Source" placeholder="Enter the source" required>
            </div>
            <div class="mb-3">
              <label for="destination" class="form-label">Destination</label>
              <input type="text" class="form-control" id="destination" name="Destination"
                placeholder="Enter the destination" required>
            </div>
            <div class="mb-3">
              <label for="class" class="form-label">Class:</label>

              <div class="mb-3 form-check">
                <input class="form-check-input" type="radio" name="Class" id="first" value="I">
                <label class="form-check-label" for="first">
                  I
                </label>
              </div>
              <div class="mb-3 form-check">
                <input class="form-check-input" type="radio" name="Class" id="second" value="II">
                <label class="form-check-label" for="second">
                  II
                </label>
              </div>
            </div>
            <div class="mb-3">
              <label for="issuedDate" class="form-label">Applied Date:</label>
              <input type="date" class="form-control" id="appliedDate" name="Applied_Date"
                placeholder="Enter the Issued date" onchange="expiry()" required>
            </div>
            <div class="mb-3" hidden>
              <label for="expiryDate" class="form-label">Expiry Date</label>
              <input type="date" class="form-control" id="expiryDate" name="Expiry_Date"
                placeholder="Enter the voucher no">
            </div>
            <div class="mb-3">
              <label for="voucher-no" class="form-label">Voucher No:</label>
              <input type="text" class="form-control" id="voucher-no" name="Voucher_no"
                placeholder="Enter the voucher no">
            </div>

            <!-- <div class="mb-3">
                          <label for="image" class="form-label">Order Image</label>
                          <input type="file" class="form-control" id="image" required accept="image/png, image/gif, image/jpeg, image/heiv, image/jpg">
                        </div> -->
            <!-- <div class="mb-3">
                          <label for="desc" class="form-label">Order Description</label>
                          <textarea type="text" class="form-control" id="desc" required minlength="10"></textarea>
                      </div>                         -->
            <button type="submit" class="btn btn-primary">Submit</Button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <br>
  <div id="footer"></div>
  <script>

// document.getElementById('form').addEventListener('submit', function (e) {
//       e.preventDefault();
//       var formData = new FormData(this);

//       fetch('/submit', {
//         method: "POST",
//         body: formData,
//       })
//         .then(response => response.json())
//         .then(data => {
//           if (data.message === "Error Submitting Data") {
//             alert("Error Submitting Data");
//           }
//           else {
//             alert("Form Submitted Successfully");
//             window.location.href = '/view';
//           }
//         })
        
//     })

    function setId(){
      var clg_id = document.getElementById("clg_id").value
      console.log(clg_id);
      localStorage.setItem("clg_id",clg_id);
    }
    
    // document.getElementById("id").addEventListener('setId',function(e){
    //   e.preventDefault;
    //   const clg_id = document.getElementById("id").value
    //   localStorage.setItem("clg_id",clg_id);
    // })

    srNo = getRandom();
    function getRandom() {

      // var get=document.getElementById('srNo').value;


      // Retrieve the current value of srNo input field from local storage
      let currentSrNo = localStorage.getItem('srNo');

      // If there is no value in local storage, set the starting value of srNo to 1
      if (!currentSrNo) {
        currentSrNo = 1111;
      }

      // Set the value of the srNo input field to the current srNo number
      document.getElementById('srNo').value = currentSrNo;

      // Increment the srNo number and store it back to local storage
      localStorage.setItem("srNo", currentSrNo);

    };

    <!-- Add this script to your HTML file -->

    // document.querySelector('form').addEventListener('submit', async (e) => {
    //   e.preventDefault();
    //   const formData = new FormData(e.target);

    //   try {
    //     const response = await fetch('/submit', {
    //       method: 'POST',
    //       body: formData,
    //     });

    //     if (response.ok) {
    //       // Data stored successfully
    //       alert('Data stored successfully');
    //       // Optionally, you can redirect the user or perform other actions.
    //     } else {
    //       // Error storing data
    //       alert('Error storing data');
    //     }
    //   } catch (error) {
    //     console.error('An error occurred:', error);
    //   }
    // });



    function submitForm() {

      const scriptURL = 'https://script.google.com/macros/s/AKfycbwhWXixAc-R8E4rhxwiXjc01T2Dftp4GIVnndmThJUFDYRg60mVnCdo7HVjGM8v4If3ZA/exec';
      const form = document.forms['form'];

      fetch(scriptURL, { method: 'POST', body: new FormData(form) })
        // .then(() => {  window.location.reload(); })
        .catch(error => console.error('Error!', error.message))

    }

  </script>
</body>

</html>